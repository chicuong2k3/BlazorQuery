
# Overview

BlazorQuery provides 3 Network Modes to control how **Queries** and **Mutations** behave 
when there is no network connection. You can set the network mode:
- Per query/mutation individually via `QueryOptions<T>.NetworkMode`.
- Globally via `QueryClient.DefaultNetworkMode`.

By default, queries use the `Online` network mode.

# Network Mode: Online

In `Online` mode:
- Queries and mutations execute **only when online**.
- If a fetch cannot happen, the query remains in its current state (`Loading`, `Error`, `Success`).
- An additional fetch status is available:
  - **Fetching**: the query function is actively executing.
  - **Paused**: the query is paused until network returns.
  - **Idle**: the query is neither fetching nor paused.

Convenience flags: `IsFetching` and `IsPaused`.

If a query is running and the network goes offline mid-fetch:
- Any retries are **paused**.
- Execution resumes automatically once the connection returns.

`RefetchOnReconnect` defaults to `true` (stale queries will refetch when network reconnects). 

# Network Mode: Always

- Queries always fetch, ignoring network state. 
- Queries are never paused.
- Retries do not pause; the query will enter `Error` state if it fails.
- `RefetchOnReconnect` defaults to `false`.
- Useful for queries that do not require a live network such as reading from local cache or 
returning `Task.FromResult()` in `QueryFn`. 

> For this mode, `FetchStatus` is never set to `Paused`. It will always be either 
`Fetching` or `Idle`.

# Network Mode: OfflineFirst

`OfflineFirst` mode is a hybrid between `Online` and `Always`:
- The query executes once, then pauses retries if offline.
- Useful for offline-first scenarios such as service worker caching or HTTP cache.
- The first fetch may succeed from the cache, but if there's a cache miss and network fails, 
retries will behave like **Online**.


# Loading vs Fetching

BlazorQuery distinguishes between logical loading and active fetching:
- **IsFetching**: Indicates that the query function is actively executing (network request 
in progress).
- **IsLoading**: Indicates that the query does not have data yet (first fetch or refetch). 
Unlike `IsFetching`, `IsLoading` may be true even if the fetch is paused due to offline mode.

