
<nav class="fixed left-0 top-0 h-screen w-64 bg-[#010409] text-white overflow-y-auto border-r border-[#21262d] flex flex-col z-30
            transition-transform duration-300 ease-in-out
            @(IsOpen ? "translate-x-0" : "-translate-x-full") lg:translate-x-0">
    <!-- Header - Sticky at top of sidebar -->
    <div class="sticky top-0 bg-[#010409] z-10 border-b border-[#21262d] flex-shrink-0">
        <div class="p-4">
            <div class="flex items-center gap-2 mb-3">
                <div class="w-8 h-8 bg-gradient-to-br from-red-500 to-yellow-500 rounded"></div>
                <div>
                    <h1 class="text-base font-bold leading-tight">
                        <a href="/" class="hover:text-red-400 transition">SWRSHARP</a>
                    </h1>
                    <span class="text-[10px] text-gray-500">v1.0</span>
                </div>
            </div>

            <!-- Search Box -->
            <div class="relative">
                <input
                    type="text"
                    placeholder="Search..."
                    class="w-full px-3 py-1.5 bg-[#0d1117] border border-[#21262d] rounded text-sm text-white placeholder-gray-500 focus:outline-none focus:border-[#30363d] focus:bg-[#161b22]"
                />
                <span class="absolute right-2 top-1.5 text-[10px] text-gray-500 font-mono">âŒ˜K</span>
            </div>
        </div>
    </div>

    <!-- Menu Items - Scrollable -->
    <div class="flex-1 overflow-y-auto px-3 py-4 space-y-6">
        <!-- Getting Started -->
        <div>
            <h3 class="text-[10px] font-semibold text-gray-500 uppercase tracking-wider mb-2 px-2">Getting Started</h3>
            <ul class="space-y-0.5">
                <li>
                    <NavLink href="/docs/getting-started/overview" class="block px-2 py-1.5 text-sm text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Overview
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/getting-started/installation" class="block px-2 py-1.5 text-sm text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Installation
                    </NavLink>
                </li>
            </ul>
        </div>

        <!-- Guides & Concepts -->
        <div>
            <h3 class="text-[10px] font-semibold text-gray-500 uppercase tracking-wider mb-2 px-2">Guides & Concepts</h3>
            <ul class="space-y-0.5 text-sm">
                <li>
                    <NavLink href="/docs/guides/query-keys" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Query Keys
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/query-functions" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Query Functions
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/network-mode" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Network Mode
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/query-retries" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Query Retries
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/query-options" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Query Options
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/parallel-queries" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Parallel Queries
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/dependent-queries" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Dependent Queries
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/background-fetching-indicators" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Background Fetching Indicators
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/disabling-queries" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Disabling Queries
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/window-focus-refetching" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Window Focus Refetching
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/initial-query-data" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Initial Query Data
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/placeholder-query-data" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Placeholder Query Data
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/paginated-queries" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Paginated Queries
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/infinite-queries" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Infinite Queries
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/query-invalidation" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Query Invalidation
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/filters" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Filters
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/query-cancellation" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Query Cancellation
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/important-defaults" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Important Defaults
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/scroll-restoration" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Scroll Restoration
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/render-optimizations" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Render Optimizations
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/logging-and-error-handling" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Logging & Error Handling
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/security-best-practices" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Security Best Practices
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/guides/default-query-function" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Default Query Function
                    </NavLink>
                </li>
            </ul>
        </div>

        <!-- Concepts -->
        <div>
            <h3 class="text-[10px] font-semibold text-gray-500 uppercase tracking-wider mb-2 px-2">Concepts</h3>
            <ul class="space-y-0.5 text-sm">
                <li>
                    <NavLink href="/docs/concepts/query-concepts" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        Query Concepts
                    </NavLink>
                </li>
            </ul>
        </div>

        <!-- API Reference -->
        <div>
            <h3 class="text-[10px] font-semibold text-gray-500 uppercase tracking-wider mb-2 px-2">API Reference</h3>
            <ul class="space-y-0.5 text-sm">
                <li>
                    <NavLink href="/docs/api/use-query" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        UseQuery
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/api/use-infinite-query" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        UseInfiniteQuery
                    </NavLink>
                </li>
                <li>
                    <NavLink href="/docs/api/query-client" class="block px-2 py-1.5 text-gray-400 hover:text-white hover:bg-[#161b22] rounded transition" ActiveClass="text-white bg-[#1c2128] font-medium border-l-2 border-red-500" @onclick="HandleNavClick">
                        QueryClient
                    </NavLink>
                </li>
            </ul>
        </div>
    </div>
</nav>

@code {
    [Parameter]
    public bool IsOpen { get; set; }

    [Parameter]
    public EventCallback OnClose { get; set; }

    private async Task HandleNavClick()
    {
        if (OnClose.HasDelegate)
        {
            await OnClose.InvokeAsync();
        }
    }
}
