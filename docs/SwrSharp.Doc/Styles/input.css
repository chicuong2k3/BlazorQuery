@tailwind base;
@tailwind components;
@tailwind utilities;

/* Scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}
::-webkit-scrollbar-track {
    background: #f5f5f5;
}
::-webkit-scrollbar-thumb {
    background: #c0c0c0;
    border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
    background: #a0a0a0;
}
.dark ::-webkit-scrollbar-track {
    background: #0d1117;
}
.dark ::-webkit-scrollbar-thumb {
    background: #30363d;
}
.dark ::-webkit-scrollbar-thumb:hover {
    background: #484f58;
}

/* Responsive images in prose content */
.prose img {
    max-width: 100%;
    height: auto;
}

/* Responsive tables - horizontal scroll */
.prose table {
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

/* Code blocks don't overflow on mobile */
.prose pre {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

/* Prevent long inline code from breaking layout */
.prose code {
    word-break: break-word;
}
.prose pre code {
    word-break: normal;
}

/* Prism overrides */
.prose pre[class*="language-"],
.prose code[class*="language-"] {
    background: transparent !important;
    text-shadow: none !important;
    font-size: 0.8125rem !important;
    line-height: 1.6 !important;
}
pre[class*="language-"] {
    border-radius: 0.5rem !important;
    margin: 0 !important;
    padding: 1rem !important;
    font-size: 0.8125rem !important;
}
.dark pre[class*="language-"] {
    background: rgba(0, 0, 0, 0.3) !important;
    border: 1px solid #30363d !important;
}
html:not(.dark) pre[class*="language-"] {
    background: #f6f8fa !important;
    border: 1px solid #d0d7de !important;
}

/* Code font size */
.prose pre code,
.prose code {
    font-size: 0.8125rem !important;
    font-family: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, monospace !important;
    line-height: 1.6 !important;
}

/* Inline code */
.prose :not(pre) > code {
    font-size: 0.875em !important;
    padding: 0.125rem 0.375rem !important;
}

/* Code block wrapper */
.code-block-wrapper {
    position: relative;
}

/* Language label */
.code-lang-label {
    position: absolute;
    top: 0;
    left: 1rem;
    font-size: 0.7rem;
    padding: 0.15rem 0.5rem;
    border-radius: 0 0 0.25rem 0.25rem;
    font-family: ui-monospace, monospace;
    z-index: 1;
    background: #e8eaed;
    color: #656d76;
}
.dark .code-lang-label {
    background: #21262d;
    color: #8b949e;
}

/* Copy button */
.copy-code-btn {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.7rem;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.2s, background 0.2s, color 0.2s;
    z-index: 2;
    background: #e8eaed;
    border: 1px solid #d0d7de;
    color: #656d76;
}
.dark .copy-code-btn {
    background: #21262d;
    border-color: #30363d;
    color: #8b949e;
}
.code-block-wrapper:hover .copy-code-btn {
    opacity: 1;
}
.copy-code-btn:hover {
    background: #d0d7de;
    color: #24292f;
}
.dark .copy-code-btn:hover {
    background: #30363d;
    color: #e6edf3;
}
.copy-code-btn.copied {
    color: #1a7f37;
    opacity: 1;
}
.dark .copy-code-btn.copied {
    color: #3fb950;
}
